<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>MSP430UltrasonicLibrary: Algorithm_api</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MSP430UltrasonicLibrary
   &#160;<span id="projectnumber">02_20_00_16</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Algorithm_api</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga74d2fe7c40f60c384a4a85b7d5a0a292"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__algorithm__api.html#ga74d2fe7c40f60c384a4a85b7d5a0a292">USS_initAlgorithms</a> (<a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *config)</td></tr>
<tr class="memdesc:ga74d2fe7c40f60c384a4a85b7d5a0a292"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following API initializes USS_Algorithms_Handle based on user USS_Algorithms_User_Configuration, USS_System_Configuration, USS_Meter_Configuration and USS_Measurement_Configuration structs. Currently this API does not perform any parameter checks.  <a href="#ga74d2fe7c40f60c384a4a85b7d5a0a292">More...</a><br /></td></tr>
<tr class="separator:ga74d2fe7c40f60c384a4a85b7d5a0a292"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga31e4d81134dca3791f3b51b6759a90f2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__algorithm__api.html#ga31e4d81134dca3791f3b51b6759a90f2">USS_runAlgorithmsFixedPoint</a> (<a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *config, <a class="el" href="uss_sw_lib_8h.html#a6f97fcbda5e1d1869a4a2f8872ff33c7">USS_Algorithms_Results_fixed_point</a> *results)</td></tr>
<tr class="memdesc:ga31e4d81134dca3791f3b51b6759a90f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following API calculates Absolute ToF Upstream, Absolute ToF Downstream, Delta ToF, Volume Flow Rate using fixed point math. //! <br />
 <br />
 <b>IMPORTANT:</b> It is recommend to use this version of the API to reduce power consumption numbers.  <a href="#ga31e4d81134dca3791f3b51b6759a90f2">More...</a><br /></td></tr>
<tr class="separator:ga31e4d81134dca3791f3b51b6759a90f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29bb7b749ecc122ac6c19d4fad06d3d9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__algorithm__api.html#ga29bb7b749ecc122ac6c19d4fad06d3d9">USS_runAlgorithms</a> (<a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *config, <a class="el" href="uss_sw_lib_8h.html#ae5b3fcb27b1d8e67b7bf82ce59d9cb5a">USS_Algorithms_Results</a> *results)</td></tr>
<tr class="memdesc:ga29bb7b749ecc122ac6c19d4fad06d3d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following API calculates Absolute ToF Upstream, Absolute ToF Downstream, Delta ToF, Volume Flow Rate. <br />
 <br />
 <b>Note1:</b> USS_initAlgorithms must be called prior to calling this function. The API expects to have a Up stream (UPS) and Down stream (DNS) of size "sampleSize" in contiguous LEA memory where the first capture is assumed to be UPS capture and the second capture is assumed to be DNS capture. Therefore, UPS and DNS capture depends on the type of capture the user select via sequenceSelection member in USS_Measurement_Configuration structure For example: if sequenceSelection == USS_measurement_capture_sequence_ch0_ch1 then USS CH0 is assumed to be UPS capture and CH1 is assumed to be DNS capture and vice versa for USS_measurement_capture_sequence_ch1_ch0 If API return message code USS_message_code_valid_results, then algorithms result are valid.  <a href="#ga29bb7b749ecc122ac6c19d4fad06d3d9">More...</a><br /></td></tr>
<tr class="separator:ga29bb7b749ecc122ac6c19d4fad06d3d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a80a55c0ac1c62a8dad15f25fb4c6f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__algorithm__api.html#ga8a80a55c0ac1c62a8dad15f25fb4c6f1">USS_generateMonoDualToneBinaryPattern</a> (<a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *config)</td></tr>
<tr class="memdesc:ga8a80a55c0ac1c62a8dad15f25fb4c6f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following API is used to generate the binary pattern used by USS_Alg_AbsToF_Calculation_Option_lobeWide and USS_Alg_AbsToF_Calculation_Option_hilbertWide computation options. Use this when AbsTof computation option is set to USS_Alg_AbsToF_Calculation_Option_lobeWide or USS_Alg_AbsToF_Calculation_Option_hilbertWide and pulse generation is single or dual mode.  <a href="#ga8a80a55c0ac1c62a8dad15f25fb4c6f1">More...</a><br /></td></tr>
<tr class="separator:ga8a80a55c0ac1c62a8dad15f25fb4c6f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff7287150b1ef5345b5bd489e0ff9079"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__algorithm__api.html#gaff7287150b1ef5345b5bd489e0ff9079">USS_generateMultiToneBinaryPattern</a> (<a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *config)</td></tr>
<tr class="memdesc:gaff7287150b1ef5345b5bd489e0ff9079"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following API is used to generate the binary pattern used by USS_Alg_AbsToF_Calculation_Option_lobeWide and USS_Alg_AbsToF_Calculation_Option_hilbertWide computation options. Use this when AbsTof computation option is set to USS_Alg_AbsToF_Calculation_Option_lobeWide or USS_Alg_AbsToF_Calculation_Option_hilbertWide and pulse generation is multi tone mode.  <a href="#gaff7287150b1ef5345b5bd489e0ff9079">More...</a><br /></td></tr>
<tr class="separator:gaff7287150b1ef5345b5bd489e0ff9079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc1a76bdca381334e9287b465cba0ff3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__algorithm__api.html#gafc1a76bdca381334e9287b465cba0ff3">USS_updateABSTOFCalculationIteration</a> (<a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *config)</td></tr>
<tr class="memdesc:gafc1a76bdca381334e9287b465cba0ff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following API allows user to update the frequency at which the Absolute Time of Flight is calculated in the algorithms. The iteration value is set via the "absTOFIteration" parameter in the USS_Algorithm_User_Configuration structure.  <a href="#gafc1a76bdca381334e9287b465cba0ff3">More...</a><br /></td></tr>
<tr class="separator:gafc1a76bdca381334e9287b465cba0ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ca92c11bbc5f9bf320de47f23be9e9c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__algorithm__api.html#ga1ca92c11bbc5f9bf320de47f23be9e9c">USS_updateClockRelativeError</a> (<a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *config)</td></tr>
<tr class="memdesc:ga1ca92c11bbc5f9bf320de47f23be9e9c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following API allows user to update clockRelativeError parameter during runtime. The clockRelativeError parameter is used to by USS_runAlgorithms and USS_runAlgorithmsFixedPoint APIs. The clockRelativeError parameter is used to correct the UPS and DNS AbsTOF calculations. Refere to clockRelativeError description for for guidance on how to estimate this parameter using USS_verifyHSPLLFrequency API.  <a href="#ga1ca92c11bbc5f9bf320de47f23be9e9c">More...</a><br /></td></tr>
<tr class="separator:ga1ca92c11bbc5f9bf320de47f23be9e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab15b47fa45b902efdc6169ed1648f92f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__algorithm__api.html#gab15b47fa45b902efdc6169ed1648f92f">USS_getResultsInFloat</a> (<a class="el" href="uss_sw_lib_8h.html#a6f97fcbda5e1d1869a4a2f8872ff33c7">USS_Algorithms_Results_fixed_point</a> *pFixedResults, <a class="el" href="uss_sw_lib_8h.html#ae5b3fcb27b1d8e67b7bf82ce59d9cb5a">USS_Algorithms_Results</a> *pFloatResults)</td></tr>
<tr class="memdesc:gab15b47fa45b902efdc6169ed1648f92f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The following API allows user to convert the fixed point Algorithm results to floating point representation.  <a href="#gab15b47fa45b902efdc6169ed1648f92f">More...</a><br /></td></tr>
<tr class="separator:gab15b47fa45b902efdc6169ed1648f92f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63f721c2caaf37c4b84c6e030a457efb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__algorithm__api.html#ga63f721c2caaf37c4b84c6e030a457efb">USS_swapAlgorithmsCaptureBuffers</a> (<a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *config)</td></tr>
<tr class="memdesc:ga63f721c2caaf37c4b84c6e030a457efb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allows user to swap capture buffers. It is highly recommended to call this function after calling USS_swapCaptureChannels.  <a href="#ga63f721c2caaf37c4b84c6e030a457efb">More...</a><br /></td></tr>
<tr class="separator:ga63f721c2caaf37c4b84c6e030a457efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadeeb7e88d8d5e179ae27dae77e8c8c49"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__algorithm__api.html#gadeeb7e88d8d5e179ae27dae77e8c8c49">USS_isAlgorithmChannelsSwapped</a> (void)</td></tr>
<tr class="memdesc:gadeeb7e88d8d5e179ae27dae77e8c8c49"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allows users to query current status Algorithm Capture buffers.  <a href="#gadeeb7e88d8d5e179ae27dae77e8c8c49">More...</a><br /></td></tr>
<tr class="separator:gadeeb7e88d8d5e179ae27dae77e8c8c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9bbb4027aaaee6dc62f9b55cab147b8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__algorithm__api.html#ga9bbb4027aaaee6dc62f9b55cab147b8d">USS_updateAdditionalCaptureDelay</a> (<a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *config, float additionalCaptureDelay)</td></tr>
<tr class="memdesc:ga9bbb4027aaaee6dc62f9b55cab147b8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allows users to update Additional Capture Delay with with minimal algorithm reconfiguration.  <a href="#ga9bbb4027aaaee6dc62f9b55cab147b8d">More...</a><br /></td></tr>
<tr class="separator:ga9bbb4027aaaee6dc62f9b55cab147b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e34b9941e587d0eda8771fd9e08c432"><td class="memItemLeft" align="right" valign="top"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__algorithm__api.html#ga1e34b9941e587d0eda8771fd9e08c432">USS_updateDtoFOffset</a> (<a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *config, float dTofOffset)</td></tr>
<tr class="memdesc:ga1e34b9941e587d0eda8771fd9e08c432"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allows users to update Delta Time Of Flight Offset with with minimal algorithm reconfiguration.  <a href="#ga1e34b9941e587d0eda8771fd9e08c432">More...</a><br /></td></tr>
<tr class="separator:ga1e34b9941e587d0eda8771fd9e08c432"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga74d2fe7c40f60c384a4a85b7d5a0a292"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga74d2fe7c40f60c384a4a85b7d5a0a292">&sect;&nbsp;</a></span>USS_initAlgorithms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a> USS_initAlgorithms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following API initializes USS_Algorithms_Handle based on user USS_Algorithms_User_Configuration, USS_System_Configuration, USS_Meter_Configuration and USS_Measurement_Configuration structs. Currently this API does not perform any parameter checks. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>is a pointer to the USS SW Library user configuration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>USS_message_code </dd></dl>

</div>
</div>
<a id="ga31e4d81134dca3791f3b51b6759a90f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga31e4d81134dca3791f3b51b6759a90f2">&sect;&nbsp;</a></span>USS_runAlgorithmsFixedPoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a> USS_runAlgorithmsFixedPoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#a6f97fcbda5e1d1869a4a2f8872ff33c7">USS_Algorithms_Results_fixed_point</a> *&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following API calculates Absolute ToF Upstream, Absolute ToF Downstream, Delta ToF, Volume Flow Rate using fixed point math. //! <br />
 <br />
 <b>IMPORTANT:</b> It is recommend to use this version of the API to reduce power consumption numbers. </p>
<p><br />
 <br />
 <b>Note1:</b> USS_initAlgorithms must be called prior to calling this function.</p>
<p>The API expects to have a Up stream (UPS) and Down stream (DNS) of size "sampleSize" in contiguous LEA memory where the first capture is assumed to be UPS capture and the second capture is assumed to be DNS capture. Therefore, UPS and DNS capture depends on the type of capture the user select via sequenceSelection member in USS_Measurement_Configuration structure For example: if sequenceSelection == USS_measurement_capture_sequence_ch0_ch1 then USS CH0 is assumed to be UPS capture and CH1 is assumed to be DNS capture and vice versa for USS_measurement_capture_sequence_ch1_ch0 If API return message code USS_message_code_valid_results, then algorithms result are valid.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>is a pointer to the USS SW Library user configuration </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">results</td><td>is a pointer to the USS Algoriithms Result structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>USS_message_code </dd></dl>

</div>
</div>
<a id="ga29bb7b749ecc122ac6c19d4fad06d3d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga29bb7b749ecc122ac6c19d4fad06d3d9">&sect;&nbsp;</a></span>USS_runAlgorithms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a> USS_runAlgorithms </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#ae5b3fcb27b1d8e67b7bf82ce59d9cb5a">USS_Algorithms_Results</a> *&#160;</td>
          <td class="paramname"><em>results</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following API calculates Absolute ToF Upstream, Absolute ToF Downstream, Delta ToF, Volume Flow Rate. <br />
 <br />
 <b>Note1:</b> USS_initAlgorithms must be called prior to calling this function. The API expects to have a Up stream (UPS) and Down stream (DNS) of size "sampleSize" in contiguous LEA memory where the first capture is assumed to be UPS capture and the second capture is assumed to be DNS capture. Therefore, UPS and DNS capture depends on the type of capture the user select via sequenceSelection member in USS_Measurement_Configuration structure For example: if sequenceSelection == USS_measurement_capture_sequence_ch0_ch1 then USS CH0 is assumed to be UPS capture and CH1 is assumed to be DNS capture and vice versa for USS_measurement_capture_sequence_ch1_ch0 If API return message code USS_message_code_valid_results, then algorithms result are valid. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>is a pointer to the USS SW Library user configuration </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">results</td><td>is a pointer to the USS Algorithms Result structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>USS_message_code </dd></dl>

<p>Referenced by <a class="el" href="group__calibration__api.html#ga372b98ad1819ae09e4cd463e9ff1d813">USS_calculateOffsets()</a>.</p>

</div>
</div>
<a id="ga8a80a55c0ac1c62a8dad15f25fb4c6f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8a80a55c0ac1c62a8dad15f25fb4c6f1">&sect;&nbsp;</a></span>USS_generateMonoDualToneBinaryPattern()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a> USS_generateMonoDualToneBinaryPattern </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following API is used to generate the binary pattern used by USS_Alg_AbsToF_Calculation_Option_lobeWide and USS_Alg_AbsToF_Calculation_Option_hilbertWide computation options. Use this when AbsTof computation option is set to USS_Alg_AbsToF_Calculation_Option_lobeWide or USS_Alg_AbsToF_Calculation_Option_hilbertWide and pulse generation is single or dual mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>is a pointer to the USS SW Library user configuration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>USS_message_code </dd></dl>

</div>
</div>
<a id="gaff7287150b1ef5345b5bd489e0ff9079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff7287150b1ef5345b5bd489e0ff9079">&sect;&nbsp;</a></span>USS_generateMultiToneBinaryPattern()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a> USS_generateMultiToneBinaryPattern </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following API is used to generate the binary pattern used by USS_Alg_AbsToF_Calculation_Option_lobeWide and USS_Alg_AbsToF_Calculation_Option_hilbertWide computation options. Use this when AbsTof computation option is set to USS_Alg_AbsToF_Calculation_Option_lobeWide or USS_Alg_AbsToF_Calculation_Option_hilbertWide and pulse generation is multi tone mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>is a pointer to the USS SW Library user configuration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>USS_message_code </dd></dl>

</div>
</div>
<a id="gafc1a76bdca381334e9287b465cba0ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc1a76bdca381334e9287b465cba0ff3">&sect;&nbsp;</a></span>USS_updateABSTOFCalculationIteration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a> USS_updateABSTOFCalculationIteration </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following API allows user to update the frequency at which the Absolute Time of Flight is calculated in the algorithms. The iteration value is set via the "absTOFIteration" parameter in the USS_Algorithm_User_Configuration structure. </p>
<p><br />
 <br />
 Increasing the value for "absTOFIteration" reduces the average consumption of the application.</p>
<p><br />
 <br />
 <b>Note1:</b> Calling this API will cause that USS_runAlgorithmsFixedPoint or USS_runAlgorithm API computes the Absolute Time of Flight next time they are called.</p>
<p><br />
 <br />
 <b>Note2:</b> USS_initAlgorithms must be called prior to calling this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>is a pointer to the USS SW Library user configuration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>USS_message_code </dd></dl>

</div>
</div>
<a id="ga1ca92c11bbc5f9bf320de47f23be9e9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ca92c11bbc5f9bf320de47f23be9e9c">&sect;&nbsp;</a></span>USS_updateClockRelativeError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a> USS_updateClockRelativeError </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following API allows user to update clockRelativeError parameter during runtime. The clockRelativeError parameter is used to by USS_runAlgorithms and USS_runAlgorithmsFixedPoint APIs. The clockRelativeError parameter is used to correct the UPS and DNS AbsTOF calculations. Refere to clockRelativeError description for for guidance on how to estimate this parameter using USS_verifyHSPLLFrequency API. </p>
<p><br />
 <br />
 <b>Note1:</b> USS_initAlgorithms must be called prior to calling this function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>is a pointer to the USS SW Library user configuration</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>USS_message_code </dd></dl>

</div>
</div>
<a id="gab15b47fa45b902efdc6169ed1648f92f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab15b47fa45b902efdc6169ed1648f92f">&sect;&nbsp;</a></span>USS_getResultsInFloat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a> USS_getResultsInFloat </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#a6f97fcbda5e1d1869a4a2f8872ff33c7">USS_Algorithms_Results_fixed_point</a> *&#160;</td>
          <td class="paramname"><em>pFixedResults</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#ae5b3fcb27b1d8e67b7bf82ce59d9cb5a">USS_Algorithms_Results</a> *&#160;</td>
          <td class="paramname"><em>pFloatResults</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The following API allows user to convert the fixed point Algorithm results to floating point representation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">pFixedResults</td><td>is a pointer to fixed point algorithm result structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pFloatResults</td><td>is a pointer to a floating point algorithm result structure. The converted results are returned in this structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>USS_message_code </dd></dl>

</div>
</div>
<a id="ga63f721c2caaf37c4b84c6e030a457efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga63f721c2caaf37c4b84c6e030a457efb">&sect;&nbsp;</a></span>USS_swapAlgorithmsCaptureBuffers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a> USS_swapAlgorithmsCaptureBuffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function allows user to swap capture buffers. It is highly recommended to call this function after calling USS_swapCaptureChannels. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>is a pointer to the USS SW Library user configuration.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>USS_message_code </dd></dl>

</div>
</div>
<a id="gadeeb7e88d8d5e179ae27dae77e8c8c49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadeeb7e88d8d5e179ae27dae77e8c8c49">&sect;&nbsp;</a></span>USS_isAlgorithmChannelsSwapped()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool USS_isAlgorithmChannelsSwapped </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function allows users to query current status Algorithm Capture buffers. </p>
<dl class="section return"><dt>Returns</dt><dd>true Capture buffers are swapped false Capture buffers are NOT swapped </dd></dl>

</div>
</div>
<a id="ga9bbb4027aaaee6dc62f9b55cab147b8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9bbb4027aaaee6dc62f9b55cab147b8d">&sect;&nbsp;</a></span>USS_updateAdditionalCaptureDelay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a> USS_updateAdditionalCaptureDelay </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>additionalCaptureDelay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function allows users to update Additional Capture Delay with with minimal algorithm reconfiguration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>is a pointer to the USS SW Library user configuration. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">additionalCaptureDelay</td><td>new additional capture delay</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>USS_message_code </dd></dl>

</div>
</div>
<a id="ga1e34b9941e587d0eda8771fd9e08c432"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1e34b9941e587d0eda8771fd9e08c432">&sect;&nbsp;</a></span>USS_updateDtoFOffset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="uss_sw_lib_8h.html#a576f9ff7eaefcbe077dd3081ef234990">USS_message_code</a> USS_updateDtoFOffset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="uss_sw_lib_8h.html#ad9b4155fa4fd00545038bb9e13fbf7a6">USS_SW_Library_configuration</a> *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>dTofOffset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function allows users to update Delta Time Of Flight Offset with with minimal algorithm reconfiguration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>is a pointer to the USS SW Library user configuration. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dTofOffset</td><td>new dtof Offset</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>USS_message_code </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2019</a>, Texas Instruments Incorporated. All rights reserved. <br>
  <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
