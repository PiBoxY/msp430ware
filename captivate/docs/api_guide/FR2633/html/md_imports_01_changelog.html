<!-- --COPYRIGHT--,BSD
 *  Copyright (c) 2017, Texas Instruments Incorporated
 *  All rights reserved.
 * 
 *  Redistribution and use in source and binary forms, with or without
 *  modification, are permitted provided that the following conditions
 *  are met:
 * 
 *  *  Redistributions of source code must retain the above copyright
 *     notice, this list of conditions and the following disclaimer.
 * 
 *  *  Redistributions in binary form must reproduce the above copyright
 *     notice, this list of conditions and the following disclaimer in the
 *     documentation and/or other materials provided with the distribution.
 * 
 *  *  Neither the name of Texas Instruments Incorporated nor the names of
 *     its contributors may be used to endorse or promote products derived
 *     from this software without specific prior written permission.
 * 
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 *  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 *  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 *  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 *  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 *  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 *  OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 *  OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 *  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * --/COPYRIGHT-- -->
<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>MSP430&trade;CapTIvateSoftwareLibraryAPIGuide: Change Log</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MSP430&trade;CapTIvateSoftwareLibraryAPIGuide
   &#160;<span id="projectnumber">1_70_00_03</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Change Log </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This chapter describes the differences between releases of the CapTIvate software library. The latest (most current) builds are shown first.</p>
<h2>CapTIvate Software Library for MSP430 CPUX Devices</h2>
<p>The following builds support the MSP430 CPUX CapTIvate-enabled devices.</p>
<h3>1.60.00 (Feature Enhancement)</h3>
<p>Build Date: November 2017</p>
<p>This release extends CapTIvate software library support to the MSP430FR2522 and MSP430FR2512 devices.</p>
<h4>Feature Additions from Previous Version</h4>
<ul>
<li>Adding MSP430FR2522 and MSP430FR2512 device support</li>
<li>Adding MSP430FR2522 family ROM header file and CCS/IAR libraries</li>
<li>Adding BOOSTXL-CAPKEYPAD example projects</li>
<li>Adding MSP-TS430RHL20 example project</li>
<li>Adding new runtime calibration algorithm (max offset calibration)</li>
</ul>
<h4>Functional Changes from Previous Version</h4>
<ul>
<li>The default DCO and MCLK frequency in the CapTIvate starter projects is now 16 MHz instead of 8 MHz, and a DCO trim procedure is not performed, as 16 MHz is a factory trimmed frequency. This reduced the board support package code footprint. SMCLK remains unchanged at 2 MHz. To support 16 MHz execution from FRAM, 1 FRAM wait state is added.</li>
</ul>
<h3>1.10.03(Feature Enhancement)</h3>
<p>Build Date: July 2017</p>
<h4>Functional Changes from Previous Version</h4>
<ul>
<li>Correcting reference capacitance bit fields in <a class="el" href="_c_a_p_t___h_a_l_8h.html">CAPT_HAL.h</a>. The reference capacitance values presented are only the unique values, and the descriptions are now accurate to the hardware.</li>
<li>Adding <a class="el" href="group___c_a_p_t___t_o_u_c_h.html#ga0fa4e4bc254acc44121c004699be7e3a">CAPT_testForMaxCountRecalibration()</a> and <a class="el" href="group___c_a_p_t___t_o_u_c_h.html#gaf92c42b47838f5b20b2697f24feef8d1">CAPT_testForNegativeTouchRecalibration()</a> functions to test for a re-calibration based on a max count error flag or negative touch flag, repsectively. This is now checked in CAPT_Manager in the <a class="el" href="group___c_a_p_t___manager.html#ga072ecc0458695e277ed49bc2d245ed1d" title="Update a CapTIvate™ application (UI). ">CAPT_updateUI()</a> routine. If a sensor has runtime re-calibration enabled, and a sensor max count event occurs, a re-calibration will be performed by <a class="el" href="group___c_a_p_t___manager.html#ga072ecc0458695e277ed49bc2d245ed1d" title="Update a CapTIvate™ application (UI). ">CAPT_updateUI()</a> and the max count flag will be cleared. If a negative touch flag is set and the re-calibration flag is set, a re-calibration will be performed by <a class="el" href="group___c_a_p_t___manager.html#ga072ecc0458695e277ed49bc2d245ed1d" title="Update a CapTIvate™ application (UI). ">CAPT_updateUI()</a>. In addition, CAPT_updateSensorRawCount has been updated to only set the sensor max count flag (bMaxCountError) in the event that an element's final, composite count has reached or exceeded the max count threshold (after oversampling and frequency hopping have been applied). This prevents false max count errors from propagating if there is noise present in the measurement that is removed by frequency hopping or oversampling.</li>
<li>eMultiFrequencyWithOutlierRemovalAndErrCorrection is being deprecated as a conversion style option. From this build forward, eStandard, eMultiFrequency and eMultiFrequencyWithOutlierRemoval conversion styles all utilize error correction. This improves algorithm performance and also allows for efficient detection of true max count errors that were caused by a real max count condition, as opposed to noise. Going forward, selecting eMultiFrequencyWithOutlierRemovalAndErrCorrection will provide the exact same results as eMultiFrequencyWithOutlierRemoval.</li>
</ul>
<h3>1.10.00 (Feature Enhancement)</h3>
<p>Build Date: March 2017</p>
<p>This is a feature addition and bug fix build.</p>
<h4>Feature Additions from Previous Version</h4>
<ul>
<li>Building pre-compiled object libraries based on device family (e.g. <em>captivate_fr2633_family.lib</em> instead of <em>captivate.lib</em>)</li>
<li>Adding library support for MSP430FR2522 family</li>
<li>Adding IQmath and Qmath library support to template projects and examples. This is needed to support trackpad projects.</li>
<li>Adding trackpad sensor support.</li>
<li>Adding device specific ROM header files.</li>
<li>Project will now determine ROM header file inclusion based upon the <b>MSP430FR2633</b> style definitions that are defined by the IDE; it will not be necessary to add the previous "TARGET_IS_FR2633" definitions.</li>
</ul>
<h4>Functional Changes from Previous Version</h4>
<ul>
<li>Moving all pre-compiled object libraries into /libraries directory inside of the respective sub-modules</li>
<li>Moving device specific ROM sub header files into /rom_headers</li>
</ul>
<h3>1.04.04.00 (Bug Fix and Feature Enhancement)</h3>
<p>Build Date: January 2017</p>
<p>This is a bug fix and feature addition build.</p>
<h4>Feature Additions from Previous Version</h4>
<ul>
<li>Adding a new conversion mode: eMultiFrequencyWithOutlierRemovalAndErrCorrection. This replaces a raw sample with a max count error (passing the error threshold) with the previous composite sample, improving noise immunity.</li>
</ul>
<h4>Functional Changes from Previous Version</h4>
<ul>
<li>A bug in <a class="el" href="group___c_a_p_t___t_o_u_c_h.html#ga231727f4879f79ef213a2c2b212216f4">CAPT_updateSensorTimeout()</a> that prevented the timeout feature from being disabled is now fixed. Setting the CapTIvate timeout threshold to UINT16_MAX or 65535 now disables the sensor timeout feature correctly.</li>
</ul>
<h3>1.04.00 (Feature Enhancement)</h3>
<p>Build Date: August 2016</p>
<p>This is a feature addition build.</p>
<h4>Feature Additions from Previous Version</h4>
<ul>
<li>Adding support for using the VLO to clock the CapTIvate timer in LPM4 when in wake-on-proximity mode to the CAPT_App layer. This allows applications to achieve very low average power consumption when a crystal is not used for the low frequency clock (ACLK). Entering LPM4 disables ACLK (turning of XT1 or the REFO, whichever was used for ACLK). The CapTIvate peripheral may still be clocked from the VLO in LPM4, if the VLO is selected as the clock source. The trade-off with using this mode is reduced time-keeping accuracy in wake-on-proximity mode. To enable this feature, define CAPT_WOP_VLO_LPM4 in CAPT_App.c. For more details, see the Ultra Low Power section of the Design Guide chapter of the CapTIvate Technology Guide.</li>
<li>Adding a string write function to the COMM layer of the CapTIvate library. This allows for a string to be written over the CapTIvate HID-BRIDGE interface for debug, if desired. The new functions are <a class="el" href="group___c_a_p_t___interface.html#gab1a1631ce8a1fd5a421534efb4f795f6">CAPT_writeString()</a> and <a class="el" href="group___c_a_p_t___protocol.html#gabdaa37f6843f3058f8e47330fc5e38d0">CAPT_getStringPacket()</a>.</li>
<li>Adding the ProximityRangeSensor example project. This example project shows how to implement a basic range sensing application using the CAPTIVATE-PROXIMITY sensing panel.</li>
<li>The MSP peripheral driver library is updated to include support for the DCO manual trim procedure.</li>
</ul>
<h4>Functional Changes from Previous Version</h4>
<ul>
<li>The CapTIvate Starter Project default stack size was reduced to 256B from 512B. Testing estimates the worst case stack usage for most applications to be &lt;128B.</li>
</ul>
<h3>1.03.02 (Patch Build)</h3>
<p>Build Date: January 2016</p>
<p>This is a patch build to address two bugs:</p><ol type="1">
<li>Changing back slashes to forward slashes in library #include directives for platform compatibility</li>
<li>Removing debug content from CapTIvate pre-compiled library components, to prevent debug system warnings that occur from source code not being present to enable debug.</li>
</ol>
<h3>1.03.00 (Feature Enhancement)</h3>
<p>Build Date: January 2016</p>
<p>This is a feature addition build.</p>
<h4>Feature Additions from Previous Version</h4>
<ul>
<li>New software example to demonstrate fast scan capability (FastSampleRate_FourButtons)</li>
<li>Adding <a class="el" href="group___c_a_p_t___t_o_u_c_h.html#ga95eef1486b7b644123e0c3b9e455314d" title="Get a bit field of the requested state of all elements in the sensor. ">CAPT_getElementStateBitField()</a> function to the CAPT_Touch layer. This function may be called from an application (such as in a callback) to get a bit field of status flags for all the elements in a sensor.</li>
<li>Adding <a class="el" href="group___c_a_p_t___buttons.html#gafde34bf41d10aaf2efa86b4338cbbd7e" title="Get the ID of the dominant element. ">CAPT_getDominantButton()</a> and CAPT_getDominantButtonAddr functions to the CAPT_Button layer. These functions provide easy, abstracted access to the dominant button output.</li>
<li>Adding <a class="el" href="group___c_a_p_t___slider.html#ga01c2c0e9a38d0fb8d55afe4aaf867651" title="Get the position value for a slider or wheel sensor. ">CAPT_getSensorPosition()</a> function to the CAPT_Touch layer. This function may be called from an application (such as in a callback) to get a 16-bit integer representing the last sampled slider or wheel position.</li>
<li>Jitter filter mechanism when noise immunity is enabled. This feature may be enabled or disabled by controlling the bJitterFilterEnable bit in the EMC configuration structure (<a class="el" href="structt_e_m_c_config.html" title="typedef tEMCConfig ">tEMCConfig</a>).</li>
<li>Oversampling mechanism when <a class="el" href="group___c_a_p_t___t_o_u_c_h.html#ga7fa4d5f5997a143b5c1224ac1786475d">CAPT_updateSensorRawCount()</a> is used. Support for up to a 32x oversampling level has been added.</li>
<li>Multi-frequency sampling and outlier removal may now be configured separately for self and mutual (projected) sensors when noise immunity is enabled OR when using the <a class="el" href="group___c_a_p_t___t_o_u_c_h.html#ga7fa4d5f5997a143b5c1224ac1786475d">CAPT_updateSensorRawCount()</a> function.</li>
<li>A abstraction was added to the HAL for configuring an IO to be a shield. The functions CAPT_enableShieldIO(block, pin) and CAPT_disableShieldIO(block, pin) may be used to enable and disable a driven shield in self-capacitance mode.</li>
</ul>
<h4>Functional Changes from Previous Version</h4>
<ul>
<li>Filtered tracking of relative noise values on a per-element basis has been removed from the library, as it did not offer significant performance benefits and required 4 bytes per element and additional CPU computation time.</li>
<li>A absolute noise value is stored in the element structure whenever <a class="el" href="group___c_a_p_t___t_o_u_c_h.html#ga7fa4d5f5997a143b5c1224ac1786475d">CAPT_updateSensorRawCount()</a> is called for a multi-frequency measurement.</li>
<li>The library and user configuration files now version-check each other and will throw a compiler warning if the versions do not match.</li>
<li>The EMC configuration structure is now loaded in application space rather than in the library. CAPT_App.c now includes the call to <a class="el" href="group___c_a_p_t___e_m_c.html#ga5a2b8cfe36911ae067490fb7812a83fb">CAPT_loadEMCConfig()</a> in the <a class="el" href="group___c_a_p_t___manager.html#ga6eecb2bf32b8191bd8789b7125a3a486" title="Initialize a CapTIvate™ application (UI). ">CAPT_initUI()</a> construct. The call to <a class="el" href="group___c_a_p_t___e_m_c.html#ga5a2b8cfe36911ae067490fb7812a83fb">CAPT_loadEMCConfig()</a> in CAPT_Manager was removed.</li>
</ul>
<h3>1.01.01 (Initial Release to Market)</h3>
<p>Build Date: October 2015</p>
<p>This is the initial release to market build of the library to support XMS430FR26xx/25xx preview devices.</p>
<h4>Feature Additions from Previous Version</h4>
<ul>
<li>New software example for an ultra low power four button design (UltraLowPower_FourButtons)</li>
<li>New software example for a code size optimized one button design (CodeSizeOptimized_OneButton)</li>
<li>Electromagnetic compatibility (EMC) features were enhanced from the beta release.<ul>
<li>Fine tuning of multi-frequency algorithm (MFP)</li>
<li>Addition of individual channel noise level sensing</li>
<li>Addition of algorithm to handle power-up and runtime calibration in a noisy environment</li>
<li>Addition of the dynamic threshold compensation (DTA) algorithm</li>
<li>Patched UART receive handler bug that prevented exit from LPM after a new byte was received</li>
</ul>
</li>
</ul>
<h4>Functional Changes from Previous Version</h4>
<ul>
<li>The slider and wheel algorithm now reports position from 0 to ui16Resolution-1, rather than from 0 to ui16Resolution.</li>
<li>It is now possible to disable the sensor timeout feature by setting the sensor timeout parameter to 65535.</li>
</ul>
<h3>1.00.10 (Beta Engineering Release)</h3>
<p>Build Date: June 2015</p>
<p>This is the first beta release build.</p>
<h4>Feature Additions from Previous Version</h4>
<p>None, this is the first release.</p>
<h4>Functional Changes from Previous Version</h4>
<p>None, this is the first release. </p>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2018</a>, Texas Instruments Incorporated. All rights reserved. <br>
  <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
