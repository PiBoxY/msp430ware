var ti_fsutil = null;
 
// Load the precompiled binary for windows.

if(process.versions['node-webkit']) 		{
  if(process.platform === 'win32') {
    ti_fsutil = require('./bin/win32/ti_fsutil');
  } else {
    if (process.platform === 'darwin'){
      ti_fsutil = require('./bin/mac/ti_fsutil');
    } else {
      ti_fsutil = require('./bin/linux32/ti_fsutil');
    }
  }
} else {
  if (process.platform === "win32") {
    if (process.arch === "x64") {
      ti_fsutil = require('./bin/win64/ti_fsutil');
    } else {
      ti_fsutil = require('./bin/win32_test/ti_fsutil');
    }
  } else {
    if(process.platform === 'darwin') {
      ti_fsutil = require('./bin/mac_test/ti_fsutil');
    } else {
      ti_fsutil = require('./bin/linux32_test/ti_fsutil');
    }
  }
}

if (ti_fsutil === null) {
  // Load the new built binary for other platforms.
  ti_fsutil = require('./build/Release/ti_fsutil');
}

module.exports = ti_fsutil;
