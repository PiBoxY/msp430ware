<!doctype html>
<html>
<head>
	<title>ti_crashhandler Usage Guide</title>
</head>
<body>


<h1 id="ti_crashhandler" style="outline: 0px; margin: 0px; font-weight: bold; color: rgb(68, 68, 68); text-rendering: optimizelegibility; font-size: 30px; line-height: 36px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif;">ti_crashhandler</h1>

<p style="outline: 0px; margin: 0px 0px 9px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 18px; color: rgb(68, 68, 68);">A TI crash handling library for Node-Webkit</p>

<p style="outline: 0px; margin: 0px 0px 9px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 18px; color: rgb(68, 68, 68);">This library offers the following services:</p>

<ul style="outline: 0px; padding-right: 0px; padding-left: 0px; margin: 0px 0px 9px 25px; list-style-position: initial; list-style-image: initial; color: rgb(68, 68, 68); font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 18px;">
	<li style="outline: 0px;">Configuration of BreakPad default crash directory</li>
	<li style="outline: 0px;">The ability to check if there are any crash-dumps</li>
	<li style="outline: 0px;">The ability to post the crash-dumps to TI crash server for collection and analysis</li>
</ul>

<h2 id="installation" style="outline: 0px; margin: 0px; font-weight: bold; color: rgb(68, 68, 68); text-rendering: optimizelegibility; font-size: 24px; line-height: 36px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif;">Installation</h2>

<pre style="outline: 0px; padding: 8.5px; font-size: 12px; color: rgb(68, 68, 68); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 9px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.14902); word-break: break-all; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; background-color: rgb(245, 245, 245);">
<code class="lang-bash" style="outline: 0px; padding: 0px; color: inherit; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; border: 0px; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; background-color: transparent;">npm install </code>git+ssh://git@<code class="lang-bash" style="outline: 0px; padding: 0px; color: inherit; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; border: 0px; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; background-color: transparent;">gitorious<span class="hljs-preprocessor" style="outline: 0px; color: rgb(153, 153, 153); font-weight: bold;">.design</span><span class="hljs-preprocessor" style="outline: 0px; color: rgb(153, 153, 153); font-weight: bold;">.ti</span><span class="hljs-preprocessor" style="outline: 0px; color: rgb(153, 153, 153); font-weight: bold;">.com</span>/guicomposer-nw/ti_crashhandler<span class="hljs-preprocessor" style="outline: 0px; color: rgb(153, 153, 153); font-weight: bold;">.git</span>
</code></pre>

<h2 id="usage" style="outline: 0px; margin: 0px; font-weight: bold; color: rgb(68, 68, 68); text-rendering: optimizelegibility; font-size: 24px; line-height: 36px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif;">Usage</h2>

<p style="outline: 0px; margin: 0px 0px 9px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 18px; color: rgb(68, 68, 68);">The ti_crashhandler module .</p>

<pre style="outline: 0px; padding: 8.5px; font-size: 12px; color: rgb(68, 68, 68); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 9px; line-height: 18px; border: 1px solid rgba(0, 0, 0, 0.14902); word-break: break-all; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; background-color: rgb(245, 245, 245);">
<code class="lang-js" style="outline: 0px; padding: 0px; color: inherit; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; border: 0px; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; background-color: transparent;">  <span class="hljs-reserved" style="outline: 0px;">var</span> crashhandler = <span class="hljs-built_in" style="outline: 0px; color: rgb(0, 134, 179);">require</span>(<span class="hljs-string" style="outline: 0px; color: rgb(221, 17, 68);">&#39;ti_crashhandler&#39;</span>)();

    <span class="hljs-keyword" style="outline: 0px; color: rgb(51, 51, 51); font-weight: bold;">if</span>(crashhandler.crashDumpFilesExist())
    {        
        <span class="hljs-regexp" style="outline: 0px; color: rgb(0, 153, 38);">//</span>Ask the user <span class="hljs-keyword" style="outline: 0px; color: rgb(51, 51, 51); font-weight: bold;">for</span> the permission to send the files
        <span class="hljs-keyword" style="outline: 0px; color: rgb(51, 51, 51); font-weight: bold;">if</span>(<span class="hljs-built_in" style="outline: 0px; color: rgb(0, 134, 179);">window</span>.confirm(<span class="hljs-string" style="outline: 0px; color: rgb(221, 17, 68);">&quot;A Crash occured\nSend the files to TI to fix the problem?&quot;</span>))
        {
            crashhandler.post());
        }
    }
</code></pre>

<h2 id="functions-details" style="outline: 0px; margin: 0px; font-weight: bold; color: rgb(68, 68, 68); text-rendering: optimizelegibility; font-size: 24px; line-height: 36px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif;">Functions Details</h2>

<ul style="outline: 0px; padding-right: 0px; padding-left: 0px; margin: 0px 0px 9px 25px; list-style-position: initial; list-style-image: initial; color: rgb(68, 68, 68); font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 18px;">
	<li style="outline: 0px;"><strong style="outline: 0px;">crashDumpFilesExist</strong>&nbsp;: returns true if there are any crash-dump-files from previous application runs</li>
	<li style="outline: 0px;">
	<p style="outline: 0px; margin: 0px 0px 9px;"><strong style="outline: 0px;">post</strong>&nbsp;: post all crash-dump files and&nbsp;<em style="outline: 0px;">delete</em>&nbsp;them. This function takes a callback function that is called when the http-post is completed.</p>

	<pre style="outline: 0px; padding: 8.5px; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; margin-top: 0px; margin-bottom: 9px; border: 1px solid rgba(0, 0, 0, 0.14902); word-break: break-all; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; background-color: rgb(245, 245, 245);">
<code class="lang-js" style="outline: 0px; padding: 0px; color: inherit; border-top-left-radius: 3px; border-top-right-radius: 3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px; border: 0px; font-family: Consolas, 'Liberation Mono', Courier, monospace !important; background-color: transparent;">  <span class="hljs-keyword" style="outline: 0px; color: rgb(51, 51, 51); font-weight: bold;">var</span> crashhandler = <span class="hljs-built_in" style="outline: 0px; color: rgb(0, 134, 179);">require</span>(<span class="hljs-string" style="outline: 0px; color: rgb(221, 17, 68);">&#39;ti_crashhandler&#39;</span>)();

  crashhandler.post(<span class="hljs-function" style="outline: 0px;"><span class="hljs-keyword" style="outline: 0px; color: rgb(51, 51, 51); font-weight: bold;">function</span><span class="hljs-params" style="outline: 0px;">(err)</span>{</span> 
      <span class="hljs-keyword" style="outline: 0px; color: rgb(51, 51, 51); font-weight: bold;">if</span>(err)
      {
          <span class="hljs-comment" style="outline: 0px; color: rgb(153, 153, 136); font-style: italic;">//and error occured</span>
          console.log(<span class="hljs-string" style="outline: 0px; color: rgb(221, 17, 68);">&quot;error when posting crash-dumpfiles&quot;</span> + err.message);
      }
      <span class="hljs-keyword" style="outline: 0px; color: rgb(51, 51, 51); font-weight: bold;">else</span>
      {
          console.log(<span class="hljs-string" style="outline: 0px; color: rgb(221, 17, 68);">&quot;posting crash-dumpfiles completed without errors&quot;</span>);
      }
  });
</code></pre>
	</li>
	<li style="outline: 0px;"><strong style="outline: 0px;">getCrashDumpFileCount</strong>&nbsp;: returns the number of crash-dump files</li>
	<li style="outline: 0px;"><strong style="outline: 0px;">getCrashDumpFileNames</strong>&nbsp;: Returns the names (only) of the crash-dump files</li>
	<li style="outline: 0px;"><strong style="outline: 0px;">getCrashDumpDirectory</strong>&nbsp;: returns the directory/location of the crash-dump files.</li>
	<li style="outline: 0px;"><strong style="outline: 0px;">deleteCrashDumpFiles</strong>&nbsp;: delete all crash-dump files..</li>
</ul>

<h3 id="-for-testing-only-" style="outline: 0px; margin: 0px; font-weight: bold; color: rgb(68, 68, 68); text-rendering: optimizelegibility; line-height: 27px; font-size: 18px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif;">(For Testing only)</h3>

<ul style="outline: 0px; padding-right: 0px; padding-left: 0px; margin: 0px 0px 9px 25px; list-style-position: initial; list-style-image: initial; color: rgb(68, 68, 68); font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 18px;">
	<li style="outline: 0px;"><strong style="outline: 0px;">crash</strong>&nbsp;: this will cause the application to crash and generate a crash dump.</li>
</ul>

<h2 id="important-notes" style="outline: 0px; margin: 0px; font-weight: bold; color: rgb(68, 68, 68); text-rendering: optimizelegibility; font-size: 24px; line-height: 36px; font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif;">Important Notes</h2>

<ol style="outline: 0px; padding-right: 0px; padding-left: 0px; margin: 0px 0px 9px 25px; list-style-position: initial; list-style-image: initial; color: rgb(68, 68, 68); font-family: Arvo, 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 18px;">
	<li style="outline: 0px;">It is important that the &lsquo;require&rsquo; for this module be called as early as possible in your application. This will insure that crash dumps are saved where intended. Otherwise, if a crash happens before this module is loaded, you may end-up with some crash-dumps saved in a different/unknown directory.</li>
	<li style="outline: 0px;">It is crucial that the user is asked for permission to send the crash-dump files.</li>
</ol>

</body>
</html>
