<!-- --COPYRIGHT--,BSD
 *  Copyright (c) 2017, Texas Instruments Incorporated
 *  All rights reserved.
 * 
 *  Redistribution and use in source and binary forms, with or without
 *  modification, are permitted provided that the following conditions
 *  are met:
 * 
 *  *  Redistributions of source code must retain the above copyright
 *     notice, this list of conditions and the following disclaimer.
 * 
 *  *  Redistributions in binary form must reproduce the above copyright
 *     notice, this list of conditions and the following disclaimer in the
 *     documentation and/or other materials provided with the distribution.
 * 
 *  *  Neither the name of Texas Instruments Incorporated nor the names of
 *     its contributors may be used to endorse or promote products derived
 *     from this software without specific prior written permission.
 * 
 *  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
 *  AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 *  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 *  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
 *  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 *  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;
 *  OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 *  WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR
 *  OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 *  EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 * --/COPYRIGHT-- -->
<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9"/>
<title>MSP DSP Library: Fixed-Point Data Types</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
    <img alt="Logo" width=25% src="ti_hz_2c_pos_rgb_png.png"/>
    <table cellspacing="0" cellpadding="0">
        <tbody>
        <tr style="height: 56px;">
            <td style="padding-left: 0.5em;">
                <div id="projectname">MSP DSP Library
                </div>
            </td>
        </tr>
        </tbody>
    </table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="usersguide.html"><span>Users&#160;Guide</span></a></li>
      <li><a href="gui.html"><span>Filter&#160;Design&#160;GUI</span></a></li>
      <li><a href="modules.html"><span>API&#160;Guide</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li><a href="disclaimer.html"><span>Disclaimer</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('usersguide_fixed.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Fixed-Point Data Types </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>DSP library for MSP devices uses the same fixed-point types as the IQmathLibry, Q15 and IQ31. The fixed-point Q15 type is defined as <code>_q15</code> and stored as a 16-bit signed integer. Similarly, the IQ31 type is defined as <code>_iq31</code> and stored as a 32-bit signed integer. The following equations show the fractional fixed-point representation and can be used to convert between the integer value stored in memory and the corresponding Q15 or IQ31 value.</p>
<div class="image">
<img src="fixed_q15.svg" alt="fixed_q15.svg"/>
</div>
 <div class="image">
<img src="fixed_iq31.svg" alt="fixed_iq31.svg"/>
</div>
<p>The Q15 and IQ31 formats can both be used to represent fractional decimal numbers, the difference is the resolution of the data. The tables below show the properties of both formats as well as several standard data types.</p>
<table class="doxtable">
<tr>
<th>Type </th><th align="center">Integer bits </th><th align="center">Fractional bits </th><th align="right">Minimum </th><th align="right">Maximum </th><th align="right">Resolution  </th></tr>
<tr>
<td><b>int16_t</b> </td><td align="center">16 </td><td align="center">0 </td><td align="right">-32768 </td><td align="right">32767 </td><td align="right">1 </td></tr>
<tr>
<td><b>int32_t</b> </td><td align="center">32 </td><td align="center">0 </td><td align="right">-2147483648 </td><td align="right">2147483648 </td><td align="right">1 </td></tr>
<tr>
<td><b>_q15</b> </td><td align="center">1 </td><td align="center">15 </td><td align="right">-1.0 </td><td align="right">0.9999695 </td><td align="right">0.00003051758 </td></tr>
<tr>
<td><b>_iq31</b> </td><td align="center">1 </td><td align="center">31 </td><td align="right">-1.0 </td><td align="right">0.9999999995 </td><td align="right">0.00000000046 </td></tr>
</table>
<h2>Macros</h2>
<p>To help work with fixed-point number the DSP library defines C macros to quickly convert from decimal to fixed point. The example below shows how constants can be defined using the _Q15 and _IQ31 macros and used to initialize a complex data sample.</p>
<div class="fragment"><div class="line"><span class="comment">// Constant definition</span></div>
<div class="line"><span class="preprocessor">#define MY_CONST        0.0125</span></div>
<div class="line"><span class="preprocessor">#define MY_CONST_Q15    _Q15(MY_CONST)</span></div>
<div class="line"><span class="preprocessor">#define MY_CONST_IQ31   _IQ31(MY_CONST)</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Sample function</span></div>
<div class="line"><span class="keywordtype">void</span> myFunction(<a class="code" href="group__dsplib__types.html#gaa52524ad6d57adad8a1293f5186cf1bc">_iq31</a> *cmplxData)</div>
<div class="line">{</div>
<div class="line">    cmplxData[0] = <a class="code" href="group__dsplib__support__device.html#ga65318f13c3aa236c740e06d4bbc02807">_IQ31</a>(0.0);</div>
<div class="line">    cmplxData[1] = MY_CONST_IQ31;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>For more details on available macro functions see the <a href="group__dsplib__support__device.html">support api documentation</a> section. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
	<p>Copyright &#169; 2015, Texas Instruments Incorporated</p>	
    </li>
  </ul>
</div>
</body>
</html>
