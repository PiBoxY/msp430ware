<!-- HTML header for doxygen 1.8.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.12"/>
<title>_EM_Metrology_ Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link id="favicon" rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="tiapistylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.12 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">_EM_Metrology_ Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="em_sw_lib_8h_source.html">emSwLib.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:adba6929112de94cb36e7b1cd1c4fe218"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_m___metrology__.html#adba6929112de94cb36e7b1cd1c4fe218">sampleCount</a></td></tr>
<tr class="separator:adba6929112de94cb36e7b1cd1c4fe218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d14ed6a78f46d7197e60494007b23fb"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_m___metrology__.html#a8d14ed6a78f46d7197e60494007b23fb">actPowDotProd</a></td></tr>
<tr class="separator:a8d14ed6a78f46d7197e60494007b23fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaaae6ca92ae7651f53a715b8ae23a654"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_m___metrology__.html#aaaae6ca92ae7651f53a715b8ae23a654">reactPowDotProd</a></td></tr>
<tr class="separator:aaaae6ca92ae7651f53a715b8ae23a654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32cbd969040421e842d497fc9878c8c0"><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_m___metrology__.html#a32cbd969040421e842d497fc9878c8c0">vDotProd</a> [3]</td></tr>
<tr class="separator:a32cbd969040421e842d497fc9878c8c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38e9cbcb1acc43658ba144bb24258f1b"><td class="memItemLeft" align="right" valign="top">int64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_m___metrology__.html#a38e9cbcb1acc43658ba144bb24258f1b">iDotProd</a></td></tr>
<tr class="separator:a38e9cbcb1acc43658ba144bb24258f1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accaf4d58ebcdb1c5b4d063c8f632647e"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_m___metrology__.html#accaf4d58ebcdb1c5b4d063c8f632647e">cycleSampleCount</a></td></tr>
<tr class="separator:accaf4d58ebcdb1c5b4d063c8f632647e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a887969a5219189e12e6448f120ac8448"><td class="memItemLeft" align="right" valign="top">_iq30&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_m___metrology__.html#a887969a5219189e12e6448f120ac8448">reactPowGConst</a></td></tr>
<tr class="memdesc:a887969a5219189e12e6448f120ac8448"><td class="mdescLeft">&#160;</td><td class="mdescRight">G Constant used for the IIR filter to calculate Reactive Power.  <a href="#a887969a5219189e12e6448f120ac8448">More...</a><br /></td></tr>
<tr class="separator:a887969a5219189e12e6448f120ac8448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c7a61b1da89c4871522dccad8f0a354"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_m___metrology__.html#a3c7a61b1da89c4871522dccad8f0a354">mainPeriod</a></td></tr>
<tr class="memdesc:a3c7a61b1da89c4871522dccad8f0a354"><td class="mdescLeft">&#160;</td><td class="mdescRight">This a running average of the length of a mains cycle. (samples/cycle * 256)  <a href="#a3c7a61b1da89c4871522dccad8f0a354">More...</a><br /></td></tr>
<tr class="separator:a3c7a61b1da89c4871522dccad8f0a354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49102d9125a0735ff27a5511cb6ce485"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_m___metrology__.html#a49102d9125a0735ff27a5511cb6ce485">prevMainPeriod</a></td></tr>
<tr class="memdesc:a49102d9125a0735ff27a5511cb6ce485"><td class="mdescLeft">&#160;</td><td class="mdescRight">This a running average of the length of a mains cycle. (samples/cycle * 256)  <a href="#a49102d9125a0735ff27a5511cb6ce485">More...</a><br /></td></tr>
<tr class="separator:a49102d9125a0735ff27a5511cb6ce485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f6637bdd21d0267e423c1deb97404f"><td class="memItemLeft" align="right" valign="top">_iq30&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_m___metrology__.html#a94f6637bdd21d0267e423c1deb97404f">oneDivSC</a></td></tr>
<tr class="memdesc:a94f6637bdd21d0267e423c1deb97404f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constant used to calculate the VRMS,IRMS, power and energy values (1/sample_count)  <a href="#a94f6637bdd21d0267e423c1deb97404f">More...</a><br /></td></tr>
<tr class="separator:a94f6637bdd21d0267e423c1deb97404f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ee91e29e9dd56389123fd06f16a7d8f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_m___metrology__.html#a5ee91e29e9dd56389123fd06f16a7d8f">prevSampleCount</a></td></tr>
<tr class="separator:a5ee91e29e9dd56389123fd06f16a7d8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0975931fbb9c3b04ae5994d36c02a745"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___e_m___metrology__.html#a0975931fbb9c3b04ae5994d36c02a745">cycleCount</a></td></tr>
<tr class="separator:a0975931fbb9c3b04ae5994d36c02a745"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Field Documentation</h2>
<a id="adba6929112de94cb36e7b1cd1c4fe218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adba6929112de94cb36e7b1cd1c4fe218">&sect;&nbsp;</a></span>sampleCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t _EM_Metrology_::sampleCount</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of samples being accumulated in the block of processed signals being gathered used for the oneDivSC calculation. </p>

</div>
</div>
<a id="a8d14ed6a78f46d7197e60494007b23fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d14ed6a78f46d7197e60494007b23fb">&sect;&nbsp;</a></span>actPowDotProd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t _EM_Metrology_::actPowDotProd</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Accumulated multiplication of the phase corrected current and voltage (I.V) used for the active power calculation. </p>

</div>
</div>
<a id="aaaae6ca92ae7651f53a715b8ae23a654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaaae6ca92ae7651f53a715b8ae23a654">&sect;&nbsp;</a></span>reactPowDotProd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t _EM_Metrology_::reactPowDotProd</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Accumulated multiplication of the phase corrected current and voltage 90 (I.V90) used for the reactive power calculation. </p>

</div>
</div>
<a id="a32cbd969040421e842d497fc9878c8c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32cbd969040421e842d497fc9878c8c0">&sect;&nbsp;</a></span>vDotProd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t _EM_Metrology_::vDotProd[3]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Accumulated squares of the phase corrected voltage (V.V). These are used to calculate the RMS voltage, and the power factor. We need separate accumulation for each current sensor, as we accumulate the phase corrected voltage which matches the current sensor's phase shift. </p>

</div>
</div>
<a id="a38e9cbcb1acc43658ba144bb24258f1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38e9cbcb1acc43658ba144bb24258f1b">&sect;&nbsp;</a></span>iDotProd</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int64_t _EM_Metrology_::iDotProd</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Accumulated squares of the phase corrected current (I.I). These are used to calculate the RMS current, and the power factor. We need separate accumulation for each current sensor, as we accumulate the phase corrected voltage which matches the current sensor's phase shift. </p>

</div>
</div>
<a id="accaf4d58ebcdb1c5b4d063c8f632647e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accaf4d58ebcdb1c5b4d063c8f632647e">&sect;&nbsp;</a></span>cycleSampleCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t _EM_Metrology_::cycleSampleCount</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is a count of the number of samples to date in the current mains cycle. This is used to calculate the mainPeriod. </p>

</div>
</div>
<a id="a887969a5219189e12e6448f120ac8448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a887969a5219189e12e6448f120ac8448">&sect;&nbsp;</a></span>reactPowGConst</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_iq30 _EM_Metrology_::reactPowGConst</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>G Constant used for the IIR filter to calculate Reactive Power. </p>

</div>
</div>
<a id="a3c7a61b1da89c4871522dccad8f0a354"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c7a61b1da89c4871522dccad8f0a354">&sect;&nbsp;</a></span>mainPeriod</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t _EM_Metrology_::mainPeriod</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This a running average of the length of a mains cycle. (samples/cycle * 256) </p>

</div>
</div>
<a id="a49102d9125a0735ff27a5511cb6ce485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49102d9125a0735ff27a5511cb6ce485">&sect;&nbsp;</a></span>prevMainPeriod</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t _EM_Metrology_::prevMainPeriod</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This a running average of the length of a mains cycle. (samples/cycle * 256) </p>

</div>
</div>
<a id="a94f6637bdd21d0267e423c1deb97404f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f6637bdd21d0267e423c1deb97404f">&sect;&nbsp;</a></span>oneDivSC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_iq30 _EM_Metrology_::oneDivSC</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constant used to calculate the VRMS,IRMS, power and energy values (1/sample_count) </p>

</div>
</div>
<a id="a5ee91e29e9dd56389123fd06f16a7d8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ee91e29e9dd56389123fd06f16a7d8f">&sect;&nbsp;</a></span>prevSampleCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t _EM_Metrology_::prevSampleCount</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stores the prev sample count used to calculate oneDivSC. This is used to avoid calculating 1/SC each cycle. </p>

</div>
</div>
<a id="a0975931fbb9c3b04ae5994d36c02a745"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0975931fbb9c3b04ae5994d36c02a745">&sect;&nbsp;</a></span>cycleCount</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t _EM_Metrology_::cycleCount</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of zero crossings. Once this number has reached the # of nominal freq. For example for 50.2 Hz, once it reaches 50 cycles then the foreground is triggered. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li><a class="el" href="em_sw_lib_8h_source.html">emSwLib.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><small>
  <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2018</a>, Texas Instruments Incorporated. All rights reserved. <br>
  <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>
</small>
</body>
</html>
