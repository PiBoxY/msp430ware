<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Crc_test_api</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="$relpath/search.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<table width="100%">
<tr>
  <td bgcolor="black" width="1"><a href="http://www.ti.com"><img border="0" src="tilogo.gif" /></a></td>
  <td bgcolor="red"><img src="titagline.gif" /></td>
</tr>
</table>
<!-- Generated by Doxygen 1.8.4 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Crc_test_api</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5f3ff254a3ad1c289b9af8b9496130b5"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__crc__test__api.html#ga5f3ff254a3ad1c289b9af8b9496130b5">IEC60730_CRC_TEST_testNvMemory</a> (uint16_t *pStartAddress, uint16_t memorySize, uint16_t *pExpectedCrc)</td></tr>
<tr class="separator:ga5f3ff254a3ad1c289b9af8b9496130b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga5f3ff254a3ad1c289b9af8b9496130b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t IEC60730_CRC_TEST_testNvMemory </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>pStartAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>memorySize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>pExpectedCrc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Tests invariable (non volatile) memory (FLASH)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">*pStartAddress</td><td>is a pointer the start address of memory to be tested </td></tr>
    <tr><td class="paramname">memorySize</td><td>size of memory to be tested </td></tr>
    <tr><td class="paramname">*pExpectedCrc</td><td>is a pointer to the expected CRC value</td></tr>
  </table>
  </dd>
</dl>
<p>The following function check for memory corruption in non volatile memory. The user must first calculate the CRC value of the memory to be checked. This can be achieved by using the CRC_tool which is included in the utils folders of the library. To learn how to use the CRC_tool please consult the IEC60730 Class B API User's Guide. When the CRC value is obtain, the user must store the CRC value in FLASH before calling the function. The memorySize paramater is specified in 16 bit words and should not exceed 65535 16 bit words. The expectedCrc value is compared to the newly calculated CRC value. The test passes if the two CRC values are identical.</p>
<p>NOTE: memorySize should be even an value, otherwise the the test fails.</p>
<dl class="section return"><dt>Returns</dt><dd>SIG_NV_MEM_CRC_TEST.- if expected CRC and calculated CRC are identical. TEST_FAILED. - if non volatile test fail and JUMP_TO_FAILSAFE is disabled in "IEC60730_user_config.h". </dd></dl>

<p>References <a class="el" href="_i_e_c60730__user__config_8h.html#ab88ef6d3e7b71de26dd605b02a0ff33a">SIG_NV_MEM_CRC_TEST</a>, and <a class="el" href="_i_e_c60730__user__config_8h.html#a9170c32e7599282baefbe7a5ad27cf8d">TEST_FAILURE</a>.</p>

</div>
</div>
</div><!-- contents -->
<hr size="1" /><small>
Copyright  2015, Texas Instruments Incorporated</small>
</body>
</html>
